# SM3_rho_attack
任务13：SM3_rho_attack

1、攻击原理：

（1）重复进行多次攻击，每次选择一个64bit的随机数，首先进行填充，其次作为二进制字符串输入，输入的结果进入SM3加密函数，最终得到经过SM3加密后的密文。

（2）该密文以数组的形式输出，每一个数组元素对应一个加密后的16进制数，由于该数开头为0x，因此需要从字符串第二个数（第0,1个数为0x）开始提取，字符串中每个数作为一个字节，为4位二进制数。

（3）我们这里只对密文的前8bit（即前2字节）进行对比，如果发现两次加密得到的8bit密文相同（即在cipher数组中找到对应bit），说明构造了一个rho attack，表明攻击成功。

（4）如果在cipher数组中没有找到对应字符，说明该密文（的8bit）还没有出现过，就将它添加进cipher数组中，便于下次查找，如果下次查找到相同的加密数值，说明找到了碰撞。

2、结论分析：

（1）这里我们只选取了8bit的rho attack，得到的运行截图如下所示：非常快的时间内即得到了一个碰撞，大约在0.099s左右的时间，说明8bit攻击速度还是相当迅速的。


3、代码注释：

（1）SM3加密的有关函数（例如ff，gg，p0，p1，T1，CF）等函数均参考国家密码总局的C++代码进行复现。本代码中重新添加了padding和消息扩展等函数。

（2）有关SM3加密的参数，例如偏移向量IV和T数组也是按照SM3官方代码进行复制。

4、结果展示：

（1）前8bit攻击：

![image](https://user-images.githubusercontent.com/108848022/180707034-e3500a6f-884d-455e-a99b-ab729b9e2594.png)


